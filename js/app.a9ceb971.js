(function(t){function e(e){for(var o,r,c=e[0],s=e[1],u=e[2],l=0,h=[];l<c.length;l++)r=c[l],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&h.push(a[r][0]),a[r]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);d&&d(e);while(h.length)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},r={app:0},a={app:0},i=[];function c(t){return s.p+"js/"+({about:"about"}[t]||t)+"."+{about:"dc963ee2"}[t]+".js"}function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={about:1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var o="css/"+({about:"about"}[t]||t)+"."+{about:"96f8b802"}[t]+".css",a=s.p+o,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===o||l===a))return e()}var h=document.getElementsByTagName("style");for(c=0;c<h.length;c++){u=h[c],l=u.getAttribute("data-href");if(l===o||l===a)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var o=e&&e.target&&e.target.src||a,i=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete r[t],d.parentNode.removeChild(d),n(i)},d.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){r[t]=0})));var o=a[t];if(0!==o)if(o)e.push(o[2]);else{var i=new Promise((function(e,n){o=a[t]=[e,n]}));e.push(o[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=c(t);var h=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(d);var n=a[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",h.name="ChunkLoadError",h.type=o,h.request=r,n[1](h)}a[t]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/flickr-vue-r/",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var h=0;h<u.length;h++)e(u[h]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1435:function(t,e,n){"use strict";n("dc83")},1536:function(t,e,n){},"1bd5":function(t,e,n){},"2b80":function(t,e,n){},"2c93":function(t,e,n){"use strict";n("aa72")},"2c9d":function(t,e,n){},"2ecc":function(t,e,n){},"33d3":function(t,e,n){"use strict";n("4fbc")},"3c9a":function(t,e,n){},4015:function(t,e,n){},"4fbc":function(t,e,n){},"51fe":function(t,e,n){"use strict";n("2c9d")},5399:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function r(t,e,n,r,a,i){var c=Object(o["z"])("NavBar"),s=Object(o["z"])("router-view"),u=Object(o["z"])("PageLoader");return Object(o["s"])(),Object(o["f"])(o["a"],null,[Object(o["i"])(c),Object(o["i"])(s),Object(o["i"])(u,{show:i.isLoading},null,8,["show"])],64)}var a=Object(o["h"])(" About "),i={key:1,href:"https://github.com/si7o/flickr-vue-r",referrerPolicy:"no-referrer",rel:"noreferrer",target:"_blank"},c=Object(o["h"])(" github ");function s(t,e,n,r,s,u){var l=Object(o["z"])("NavLogo"),h=Object(o["z"])("router-link"),d=Object(o["z"])("GithubIcon");return Object(o["s"])(),Object(o["f"])("header",{class:Object(o["o"])(t.isPhotoPage&&"photopage")},[Object(o["i"])(h,{to:"/"},{default:Object(o["F"])((function(){return[Object(o["i"])(l)]})),_:1}),t.isPhotoPage?Object(o["e"])("",!0):(Object(o["s"])(),Object(o["d"])(h,{key:0,to:"/about"},{default:Object(o["F"])((function(){return[a]})),_:1})),t.isPhotoPage?Object(o["e"])("",!0):(Object(o["s"])(),Object(o["f"])("a",i,[c,Object(o["i"])(d)]))],2)}var u=function(t){return Object(o["v"])("data-v-64bc6086"),t=t(),Object(o["t"])(),t},l={id:"logo"},h=u((function(){return Object(o["g"])("div",{className:"inner"},[Object(o["g"])("span",null,"flickr"),Object(o["g"])("span",null,"VR")],-1)})),d=u((function(){return Object(o["g"])("div",{className:"border"},null,-1)})),f=[h,d];function p(t,e,n,r,a,i){return Object(o["s"])(),Object(o["f"])("h1",l,f)}var b={},g=(n("51fe"),n("6b0d")),j=n.n(g);const O=j()(b,[["render",p],["__scopeId","data-v-64bc6086"]]);var m=O,v={height:"16",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16"},w=Object(o["g"])("path",{fill:"currentColor",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"},null,-1),y=[w];function k(t,e){return Object(o["s"])(),Object(o["f"])("svg",v,y)}const P={},S=j()(P,[["render",k]]);var A=S,C=(n("b0c0"),{computed:{isUserPage:function(){var t;return"UserPage"===(null===(t=this.$route)||void 0===t?void 0:t.name)},isPhotoPage:function(){var t;return"PhotoPage"===(null===(t=this.$route)||void 0===t?void 0:t.name)},userPageRoute:function(){return{name:"UserPage",params:{pathAlias:this.pathAlias||this.owner}}},photoPageRoute:function(){return{name:"PhotoPage",params:{pathAlias:this.pathAlias||this.owner,photoId:this.photoId}}}}}),I={name:"NavBar",components:{GithubIcon:A,NavLogo:m},mixins:[C]};n("d5cc");const L=j()(I,[["render",s],["__scopeId","data-v-a26dd586"]]);var _=L,R=function(t){return Object(o["v"])("data-v-fdb15a78"),t=t(),Object(o["t"])(),t},U=R((function(){return Object(o["g"])("div",{className:"lds-ripple"},[Object(o["g"])("div"),Object(o["g"])("div")],-1)})),z=[U];function D(t,e,n,r,a,i){return Object(o["s"])(),Object(o["f"])("div",{id:"page-loader",class:Object(o["o"])(i.className)},z,2)}var E={name:"PageLoader",props:{show:Boolean},computed:{className:function(){return this.show?"show":""}}};n("6860");const T=j()(E,[["render",D],["__scopeId","data-v-fdb15a78"]]);var B=T,H={name:"App",components:{NavBar:_,PageLoader:B},computed:{isLoading:function(){return"loading"===this.$store.state.home.status||"loading"===this.$store.state.user.status}}};n("6ad4");const q=j()(H,[["render",r]]);var N=q,x=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),V=function(t){return Object(o["v"])("data-v-a8d1908e"),t=t(),Object(o["t"])(),t},$={id:"homepage"},F=V((function(){return Object(o["g"])("h4",null,"Latest panoramas from Flickr",-1)})),G={id:"pano-cards"},M={key:0,className:"panos"};function Q(t,e,n,r,a,i){var c=Object(o["z"])("StartHere"),s=Object(o["z"])("PanoCard");return Object(o["s"])(),Object(o["f"])("section",$,[Object(o["i"])(c),F,Object(o["g"])("div",G,[t.photos.length>0?(Object(o["s"])(),Object(o["f"])("div",M,[(Object(o["s"])(!0),Object(o["f"])(o["a"],null,Object(o["y"])(t.photos,(function(t){return Object(o["s"])(),Object(o["d"])(s,{key:t.id,photo:t,todo:"{...userData}"},null,8,["photo"])})),128))])):Object(o["e"])("",!0)])])}var J=n("5530"),K=n("5502"),W={id:"start-here"},X={htmlFor:"flickrInput"},Y=Object(o["h"])(" Enter your Flickr username or the URL to your flickr equirectangular panorama "),Z=["disabled"];function tt(t,e,n,r,a,i){return Object(o["s"])(),Object(o["f"])("div",W,[Object(o["g"])("h2",null,Object(o["B"])(n.title),1),Object(o["g"])("h3",null,Object(o["B"])(n.subtitle),1),Object(o["g"])("form",{id:"start-here-form",name:"start-here-form",autoComplete:"off",onSubmit:e[1]||(e[1]=Object(o["H"])((function(){return i.handleSubmit&&i.handleSubmit.apply(i,arguments)}),["prevent"]))},[Object(o["g"])("label",X,[Y,Object(o["G"])(Object(o["g"])("input",{id:"flickrInput","onUpdate:modelValue":e[0]||(e[0]=function(t){return a.flickrInput=t}),name:"flickrInput",placeholder:"Enter a username or a flickr URL",autoComplete:"off"},null,512),[[o["D"],a.flickrInput]])]),Object(o["g"])("button",{type:"submit",disabled:!a.flickrInput}," go ",8,Z)],32)])}n("99af"),n("ac1f"),n("00b4"),n("498a"),n("466d");var et="https://www.flickr.com",nt="#",ot=function(t,e){return t||e?"".concat(et,"/photos/").concat(t||e):nt},rt=function(t,e,n){return(t||e)&&n?"".concat(ot(t,e),"/").concat(n):nt},at=function(t,e){return t||e?"/photos/".concat(t||e):nt},it=function(t,e,n){return(t||e)&&n?"".concat(at(t,e),"/").concat(n):nt},ct=function(t){var e={pathAlias:"",photoId:""},n=/^\S*$/.test(t.trim()),o=n&&t.match(/flickr.com\/photos\/([\w@]+)\/([0-9]+)/),r=n&&t.match(/flickr.com\/photos\/([\w@]+)/),a=n&&/^[a-z0-9@]+$/gi.test(t.trim());return o?(e.pathAlias=o[1].toLowerCase(),e.photoId=o[2].toLowerCase()):r?e.pathAlias=r[1].toLowerCase():a&&(e.pathAlias=t.trim().toLowerCase()),e},st=function(t){var e=ct(t),n=e.pathAlias,o=e.photoId;if(n&&o)return it(n,"",o);if(n)return at(n,"");throw"The URL or username is not valid!"},ut={name:"StartHere",props:{title:{type:String,default:"Watch flickr equirrectangular panoramas the right way."},subtitle:{type:String,default:"Start here!"}},data:function(){return{flickrInput:""}},methods:{handleSubmit:function(){var t=st(this.flickrInput);this.$router.push(t)}}};n("2c93");const lt=j()(ut,[["render",tt],["__scopeId","data-v-97db5aae"]]);var ht=lt,dt=(n("c96a"),function(t){return Object(o["v"])("data-v-e219562e"),t=t(),Object(o["t"])(),t}),ft=["id"],pt={class:"img"},bt=["src","alt"],gt=dt((function(){return Object(o["g"])("div",{className:"gradient"},null,-1)})),jt={className:"info"},Ot={className:"title"},mt={key:0,class:"footer"},vt=Object(o["h"])(" by "),wt=Object(o["h"])(" on "),yt=["href"],kt=Object(o["h"])(" flick"),Pt=dt((function(){return Object(o["g"])("i",null,"r",-1)})),St=[kt,Pt];function At(t,e,n,r,a,i){var c=Object(o["z"])("router-link");return n.photo?(Object(o["s"])(),Object(o["f"])("div",{key:0,id:i.divId,class:Object(o["o"])(["pano-card",i.className])},[Object(o["i"])(c,{to:i.photoPageRoute,class:"card"},{default:Object(o["F"])((function(){return[Object(o["g"])("div",pt,[Object(o["g"])("img",{src:n.photo.thumbnail,loading:"lazy",alt:n.photo.title},null,8,bt),gt]),Object(o["g"])("div",jt,[Object(o["g"])("h6",Ot,Object(o["B"])(n.photo.title),1)])]})),_:1},8,["to"]),n.small?Object(o["e"])("",!0):(Object(o["s"])(),Object(o["f"])("ul",mt,[Object(o["g"])("li",null,[vt,Object(o["i"])(c,{to:i.userPageRoute},{default:Object(o["F"])((function(){return[Object(o["h"])(Object(o["B"])(n.photo.username),1)]})),_:1},8,["to"])]),Object(o["g"])("li",null,[wt,Object(o["g"])("a",{href:i.flickrPhotoUrl,target:"_blank",rel:"noreferrer",className:"flickr"},St,8,yt)])]))],10,ft)):Object(o["e"])("",!0)}var Ct={name:"PanoCard",props:{small:Boolean,photo:{type:Object,default:function(){return{id:"",title:"",thumbnail:"",username:"",owner:"",pathAlias:""}}}},computed:{divId:function(){return"pano".concat(this.photo.id)},className:function(){return this.small&&"small"},userPageRoute:function(){return{name:"UserPage",params:{pathAlias:this.photo.pathAlias||this.photo.owner}}},photoPageRoute:function(){return{name:"PhotoPage",params:{pathAlias:this.photo.pathAlias||this.photo.owner,photoId:this.photo.id}}},flickrPhotoUrl:function(){return rt(this.photo.pathAlias,this.photo.owner,this.photo.id)}}};n("f58b");const It=j()(Ct,[["render",At],["__scopeId","data-v-e219562e"]]);var Lt=It,_t={name:"HomeView",components:{PanoCard:Lt,StartHere:ht},computed:Object(J["a"])({},Object(K["c"])("home",["photos"])),created:function(){this.$store.dispatch("home/fetchData")}};n("6c99");const Rt=j()(_t,[["render",Q],["__scopeId","data-v-a8d1908e"]]);var Ut=Rt,zt=function(t){return Object(o["v"])("data-v-64e47ff6"),t=t(),Object(o["t"])(),t},Dt={id:"userpage"},Et={key:0,class:"loading"},Tt={style:{marginBottom:"15px"}},Bt=Object(o["h"])("Oops! Something went wrong when loading "),Ht=Object(o["h"])(" panoramas."),qt={key:2},Nt=["href"],xt=Object(o["h"])(" flick"),Vt=zt((function(){return Object(o["g"])("i",null,"r",-1)})),$t=[xt,Vt],Ft={id:"pano-cards"},Gt={key:0,class:"panos"};function Mt(t,e,n,r,a,i){var c=Object(o["z"])("StartHere"),s=Object(o["z"])("PanoCard");return Object(o["s"])(),Object(o["f"])("section",Dt,[t.isLoading?(Object(o["s"])(),Object(o["f"])("h2",Et," Loading "+Object(o["B"])(t.username||n.pathAlias)+" panoramas ",1)):t.isError?(Object(o["s"])(),Object(o["f"])(o["a"],{key:1},[Object(o["g"])("h2",Tt,[Bt,Object(o["g"])("i",null,Object(o["B"])(t.username||n.pathAlias),1),Ht]),Object(o["i"])(c,{title:"",subtitle:"Try something else."})],64)):(Object(o["s"])(),Object(o["f"])("h2",qt,[Object(o["h"])(Object(o["B"])(t.username||n.pathAlias)+" has "+Object(o["B"])(t.photos.length)+" panoramas on ",1),Object(o["g"])("a",{href:i.flickrUserUrl,class:"flickr",target:"_blank",rel:"noreferrer"},$t,8,Nt)])),Object(o["g"])("div",Ft,[t.photos.length>0?(Object(o["s"])(),Object(o["f"])("div",Gt,[(Object(o["s"])(!0),Object(o["f"])(o["a"],null,Object(o["y"])(t.photos,(function(e){return Object(o["s"])(),Object(o["d"])(s,{key:e.id,photo:Object(J["a"])(Object(J["a"])({},e),{},{pathAlias:n.pathAlias,owner:t.owner}),small:!0},null,8,["photo"])})),128))])):Object(o["e"])("",!0)])])}var Qt={name:"UserView",components:{PanoCard:Lt,StartHere:ht},props:{pathAlias:{type:String,required:!0}},computed:Object(J["a"])(Object(J["a"])(Object(J["a"])({},Object(K["c"])("user",["photos","username","owner"])),Object(K["b"])("user",["isError","isLoading"])),{},{flickrUserUrl:function(){return ot(this.pathAlias,"")}}),watch:{pathAlias:"fetchData"},created:function(){this.fetchData()},methods:{fetchData:function(){if(!this.pathAlias)return null;this.$store.dispatch("user/fetchData",this.pathAlias)}}};n("7dd3");const Jt=j()(Qt,[["render",Mt],["__scopeId","data-v-64e47ff6"]]);var Kt=Jt,Wt=function(t){return Object(o["v"])("data-v-58de05ba"),t=t(),Object(o["t"])(),t},Xt={key:0,class:"message loading"},Yt={key:2},Zt=Wt((function(){return Object(o["g"])("h3",null,"Oops! something went wrong :( ",-1)})),te=[Zt];function ee(t,e,n,r,a,i){var c=Object(o["z"])("PhotoHeader"),s=Object(o["z"])("PanoViewerEgjs"),u=Object(o["z"])("PhotoSlider"),l=Object(o["z"])("PhotoSettings"),h=Object(o["z"])("PageLoader");return Object(o["s"])(),Object(o["f"])("section",{id:"photopage",class:Object(o["o"])(!i.isViewerReady&&"loading")},[Object(o["i"])(c,{title:a.title,username:a.username,"path-alias":n.pathAlias,"photo-id":n.photoId,loading:i.isLoading},null,8,["title","username","path-alias","photo-id","loading"]),i.isViewerReady||i.isLoading?Object(o["e"])("",!0):(Object(o["s"])(),Object(o["f"])("div",Xt," Loading image... ")),i.isSuccess?(Object(o["s"])(),Object(o["d"])(s,{key:1,image:i.imageUrl,onReady:i.handlePanoViewerReady},null,8,["image","onReady"])):i.isError?(Object(o["s"])(),Object(o["f"])("div",Yt,te)):Object(o["e"])("",!0),Object(o["i"])(u,{photos:"userPhotos","path-alias":n.pathAlias,"photo-id":n.photoId},null,8,["path-alias","photo-id"]),Object(o["i"])(l),Object(o["i"])(h,{show:i.isLoading},null,8,["show"])],2)}n("caad");var ne=n("1da1"),oe=(n("96cf"),"https://vr.andeandaran.com/api"),re=function(){var t=Object(ne["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat(oe,"/flickr"),{method:"GET"}).then((function(t){return t.json()})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ae=function(){var t=Object(ne["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat(oe,"/flickr/photos/").concat(e),{method:"GET"}).then((function(t){return t.json()})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ie=function(){var t=Object(ne["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat(oe,"/flickr/photos/").concat(e,"/").concat(n),{method:"GET"}).then((function(t){return t.json()})));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),ce=["title"],se={class:"content"},ue=["title"],le=Object(o["h"])(" by "),he=Object(o["h"])(". "),de=Object(o["h"])(" view on "),fe=["href"],pe=Object(o["h"])(" flick"),be=Object(o["g"])("i",null,"r",-1),ge=[pe,be],je={class:"header-controls"};function Oe(t,e,n,r,a,i){var c=Object(o["z"])("router-link");return Object(o["s"])(),Object(o["f"])("div",{id:"photo-header","data-testid":"photo-header",title:"".concat(n.title," by ").concat(n.username),class:Object(o["o"])(i.mainClass)},[Object(o["g"])("div",se,[Object(o["g"])("h4",null,Object(o["B"])(n.title),1),Object(o["g"])("p",null,[Object(o["g"])("span",{title:"View more panoramas uploaded by ".concat(n.username)},[le,Object(o["i"])(c,{to:i.userUrl},{default:Object(o["F"])((function(){return[Object(o["h"])(Object(o["B"])(n.username),1)]})),_:1},8,["to"]),he],8,ue),Object(o["g"])("span",null,[de,Object(o["g"])("a",{href:i.flickrPhotoUrl,target:"_blank",rel:"noreferrer",class:"flickr",title:"`Go to ${username} flickr account`}"},ge,8,fe)])])]),Object(o["g"])("div",je,[Object(o["g"])("button",{onClick:e[0]||(e[0]=function(){return t.handleShowToggleClick&&t.handleShowToggleClick.apply(t,arguments)})},[Object(o["g"])("i",{class:Object(o["o"])(i.toggleButtonClass)},null,2)])])],10,ce)}var me={data:function(){return{show:!1}},methods:{handleShowToggleClick:function(){this.show=!this.show}}},ve={name:"PhotoHeader",mixins:[me],props:{pathAlias:{type:String,required:!0},photoId:{type:String,required:!0},title:{type:String,default:"Loading Panorama"},username:{type:String,default:""},loading:{type:Boolean}},computed:{userUrl:function(){return at(this.pathAlias)},flickrPhotoUrl:function(){return rt(this.pathAlias,"",this.photoId)},mainClass:function(){return[this.loading&&"loading",this.show?"visible":"hidden"]},toggleButtonClass:function(){return["gg-chevron ".concat(this.show?"up":"down")]}},watch:{title:"init"},created:function(){this.init()},methods:{init:function(){this.show=!0}}};n("a90f");const we=j()(ve,[["render",Oe]]);var ye=we,ke={class:"content"};function Pe(t,e,n,r,a,i){var c=Object(o["z"])("SettingsIcon");return Object(o["s"])(),Object(o["f"])("div",{id:"photo-settings",class:Object(o["o"])(t.show&&"show")},[Object(o["g"])("button",{class:"toggle",onClick:e[0]||(e[0]=function(){return t.handleShowToggleClick&&t.handleShowToggleClick.apply(t,arguments)})},[Object(o["i"])(c)]),Object(o["g"])("div",ke,[Object(o["g"])("button",{class:Object(o["o"])(["qualityToggle",i.isHDSelected&&"active"]),onClick:e[1]||(e[1]=function(){return i.handleQualityToggleClick&&i.handleQualityToggleClick.apply(i,arguments)})}," 4K ",2)])],2)}var Se={height:"32",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"32"},Ae=Object(o["g"])("path",{fill:"currentColor",d:"M256 176a80 80 0 1 0 80 80 80.24 80.24 0 0 0-80-80zm172.72 80a165.53 165.53 0 0 1-1.64 22.34l48.69 38.12a11.59 11.59 0 0 1 2.63 14.78l-46.06 79.52a11.64 11.64 0 0 1-14.14 4.93l-57.25-23a176.56 176.56 0 0 1-38.82 22.67l-8.56 60.78a11.93 11.93 0 0 1-11.51 9.86h-92.12a12 12 0 0 1-11.51-9.53l-8.56-60.78A169.3 169.3 0 0 1 151.05 393L93.8 416a11.64 11.64 0 0 1-14.14-4.92L33.6 331.57a11.59 11.59 0 0 1 2.63-14.78l48.69-38.12A174.58 174.58 0 0 1 83.28 256a165.53 165.53 0 0 1 1.64-22.34l-48.69-38.12a11.59 11.59 0 0 1-2.63-14.78l46.06-79.52a11.64 11.64 0 0 1 14.14-4.93l57.25 23a176.56 176.56 0 0 1 38.82-22.67l8.56-60.78A11.93 11.93 0 0 1 209.94 26h92.12a12 12 0 0 1 11.51 9.53l8.56 60.78A169.3 169.3 0 0 1 361 119l57.2-23a11.64 11.64 0 0 1 14.14 4.92l46.06 79.52a11.59 11.59 0 0 1-2.63 14.78l-48.69 38.12a174.58 174.58 0 0 1 1.64 22.66z"},null,-1),Ce=[Ae];function Ie(t,e){return Object(o["s"])(),Object(o["f"])("svg",Se,Ce)}const Le={},_e=j()(Le,[["render",Ie]]);var Re=_e,Ue={name:"PhotoSettings",components:{SettingsIcon:Re},mixins:[me],computed:{isHDSelected:function(){return"HD"===this.$store.state.photoSettings.quality}},methods:{handleQualityToggleClick:function(){this.$store.commit("photoSettings/toggleQuality")}}};n("f8f3");const ze=j()(Ue,[["render",Pe]]);var De=ze;function Ee(t,e,n,r,a,i){var c=Object(o["z"])("PanoViewer");return Object(o["s"])(),Object(o["d"])(c,{id:"panoviewer",ref:"viewer",tag:"div",image:n.image,fov:88,"projection-type":"equirectangular","show-pole-point":!0,onReady:i.handlePanoReady,onError:i.handlePanoError},null,8,["image","onReady","onError"])}var Te=n("f730"),Be={name:"PanoViewerEgjs",components:{PanoViewer:Te["a"]},props:{image:{type:String,required:!0}},emits:["ready"],created:function(){window.addEventListener("resize",this.resizeCanvas,!1)},methods:{handlePanoReady:function(){this.$emit("ready")},handlePanoError:function(t){this.image&&window.alert(t.message)},resizeCanvas:function(){var t,e;null===(t=this.$refs)||void 0===t||null===(e=t.viewer)||void 0===e||e.updateViewportDimensions()}}};n("b2a9");const He=j()(Be,[["render",Ee]]);var qe=He,Ne=function(t){return Object(o["v"])("data-v-627276d2"),t=t(),Object(o["t"])(),t},xe={className:"content"},Ve=Ne((function(){return Object(o["g"])("i",{class:"gg-chevron left"},null,-1)})),$e=[Ve],Fe={key:1,class:"item-list"},Ge=Ne((function(){return Object(o["g"])("i",{class:"gg-chevron"},null,-1)})),Me=[Ge];function Qe(t,e,n,r,a,i){var c=Object(o["z"])("PhotoItem");return Object(o["s"])(),Object(o["f"])("div",{id:"photo-slider",class:Object(o["o"])(a.show&&"show")},[Object(o["g"])("button",{class:"toggle",onClick:e[0]||(e[0]=function(){return i.handleToggleClick&&i.handleToggleClick.apply(i,arguments)})},Object(o["B"])(i.toggleText),1),Object(o["g"])("div",xe,[Object(o["g"])("button",{class:"left",onClick:e[1]||(e[1]=function(){return i.handleScrollLeftClick&&i.handleScrollLeftClick.apply(i,arguments)})},$e),i.loaded?(Object(o["s"])(),Object(o["f"])("div",{key:0,ref:"slider",class:"item-list",onClick:e[2]||(e[2]=function(){return i.handleToggleClick&&i.handleToggleClick.apply(i,arguments)})},[(Object(o["s"])(!0),Object(o["f"])(o["a"],null,Object(o["y"])(t.photos,(function(t){return Object(o["s"])(),Object(o["d"])(c,{key:t.id,"photo-id":t.id,title:t.title,thumbnail:t.thumbnail,"path-alias":n.pathAlias,"is-current":t.id===n.photoId},null,8,["photo-id","title","thumbnail","path-alias","is-current"])})),128))],512)):(Object(o["s"])(),Object(o["f"])("div",Fe,"...loading")),Object(o["g"])("button",{class:"right",onClick:e[3]||(e[3]=function(){return i.handleScrollRightClick&&i.handleScrollRightClick.apply(i,arguments)})},Me)])],2)}var Je=["id"],Ke=["src","alt"],We={class:"gradient"};function Xe(t,e,n,r,a,i){var c=Object(o["z"])("router-link");return Object(o["s"])(),Object(o["f"])("div",{id:i.divId,class:"photo-item"},[Object(o["i"])(c,{to:i.photoHref,class:"clickable"},{default:Object(o["F"])((function(){return[Object(o["g"])("img",{src:n.thumbnail,loading:"lazy",alt:n.title},null,8,Ke),Object(o["g"])("div",We,[Object(o["g"])("p",null,Object(o["B"])(n.title),1)])]})),_:1},8,["to"])],8,Je)}var Ye={name:"PhotoItem",props:{photoId:{type:String,required:!0},title:{type:String,required:!0},thumbnail:{type:String,required:!0},pathAlias:{type:String,required:!0}},computed:{divId:function(){return"pano-card-".concat(this.photoId)},photoHref:function(){return it(this.pathAlias,"",this.photoId)}}};n("641c");const Ze=j()(Ye,[["render",Xe],["__scopeId","data-v-136e059c"]]);var tn=Ze,en={name:"PhotoSlider",components:{PhotoItem:tn},props:{pathAlias:{type:String,required:!0},loading:Boolean,photoId:{type:String,default:""}},data:function(){return{show:!1}},computed:Object(J["a"])(Object(J["a"])({},Object(K["c"])("user",["photos"])),{},{toggleText:function(){return this.show?"Hide":"More Panos"},loaded:function(){return!this.loading&&["success","error"].includes(this.$store.state.user.status)}}),created:function(){},methods:{handleToggleClick:function(){this.show=!this.show},scrollPixels:function(){return window.innerWidth/2},handleScrollLeftClick:function(){this.$refs.slider.scrollLeft-=this.scrollPixels()},handleScrollRightClick:function(){this.$refs.slider.scrollLeft+=this.scrollPixels()}}};n("1435");const nn=j()(en,[["render",Qe],["__scopeId","data-v-627276d2"]]);var on=nn,rn={name:"PhotoView",components:{PageLoader:B,PhotoHeader:ye,PanoViewerEgjs:qe,PhotoSettings:De,PhotoSlider:on},props:{pathAlias:{type:String,required:!0},photoId:{type:String,required:!0}},data:function(){return{status:"idle",error:"",panoViewerReady:!1,thumbnail:"",username:"",canLoad:!1,title:"",desc:"",url:"",sdUrl:"",hdUrl:"",equirectangular:!1}},computed:{isLoading:function(){return["loading","idle"].includes(this.status)},isSuccess:function(){return"success"===this.status},isError:function(){return"error"===this.status},isViewerReady:function(){return this.panoViewerReady||this.isError},imageUrl:function(){return"SD"===this.$store.state.photoSettings.quality?this.sdUrl:this.hdUrl}},watch:{photoId:"fetchData",pathAlias:"fetchData"},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;if(this.status="loading",this.canLoad=!1,this.panoViewerReady=!1,!this.pathAlias||!this.photoId)return null;ie(this.pathAlias,this.photoId).then((function(e){t.thumbnail=e.thumbnail,t.username=e.username,t.canLoad=e.canLoad,t.title=e.title,t.desc=e.desc,t.url=e.url,t.sdUrl=e.sdUrl,t.hdUrl=e.hdUrl,t.equirectangular=e.equirectangular,t.status="success"})).catch((function(e){t.status="error",t.error=e.message,console.log(e)})),this.$store.dispatch("user/fetchData",this.pathAlias)},handlePanoViewerReady:function(){this.panoViewerReady=!0}}};n("33d3");const an=j()(rn,[["render",ee],["__scopeId","data-v-58de05ba"]]);var cn=an,sn=function(t){return Object(o["v"])("data-v-1d1e0ba3"),t=t(),Object(o["t"])(),t},un={id:"not-found"},ln=sn((function(){return Object(o["g"])("h1",null,"Oops!",-1)})),hn=Object(o["h"])("Home"),dn=Object(o["h"])("About"),fn={href:"https://github.com/si7o/flickr-vue-r",referrerPolicy:"no-referrer",rel:"noreferrer",target:"_blank"},pn=Object(o["h"])(" GitHub ");function bn(t,e,n,r,a,i){var c=Object(o["z"])("StartHere"),s=Object(o["z"])("router-link"),u=Object(o["z"])("GithubIcon");return Object(o["s"])(),Object(o["f"])("section",un,[ln,Object(o["i"])(c,{title:"Sorry, we couldn't find what you were looking for...",subtitle:"Try something different?"}),Object(o["g"])("ul",null,[Object(o["g"])("li",null,[Object(o["i"])(s,{to:"HomePage"},{default:Object(o["F"])((function(){return[hn]})),_:1})]),Object(o["g"])("li",null,[Object(o["i"])(s,{to:"AboutPage"},{default:Object(o["F"])((function(){return[dn]})),_:1})]),Object(o["g"])("li",null,[Object(o["g"])("a",fn,[pn,Object(o["i"])(u)])])])])}var gn={components:{StartHere:ht}};n("9fa0");const jn=j()(gn,[["render",bn],["__scopeId","data-v-1d1e0ba3"]]);var On=jn,mn=[{path:"/",name:"HomePage",component:Ut},{path:"/photos/:pathAlias",name:"UserPage",component:Kt,props:!0},{path:"/photos/:pathAlias/:photoId",name:"PhotoPage",component:cn,props:!0},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"fd71"))}},{path:"/:pathMatch(.*)*",name:"NotFound",component:On}],vn=Object(x["a"])({history:Object(x["b"])(),routes:mn}),wn=vn,yn=3e5,kn={namespaced:!0,state:{status:"idle",error:null,lastUpdated:0,photos:[]},mutations:{photosReceived:function(t,e){t.photos=e,t.lastUpdated=Date.now(),t.status="success",t.error=null},loading:function(t){t.status="loading"},errorReceived:function(t,e){t.photos=[],t.error=e,t.status="error"},reset:function(t){t.photos=[],t.lastUpdated=0,t.status="idle",t.error=null}},actions:{fetchData:function(t){var e=t.state,n=t.commit;return Date.now()-e.lastUpdated<=yn?null:(n("loading"),re().then((function(t){n("photosReceived",t.photos)})).catch((function(t){n("errorReceived",t)})))}},getters:{isLoading:function(){return"loading"===this.status},isError:function(){return"error"===this.status}}},Pn={namespaced:!0,state:{quality:"HD"},mutations:{toggleQuality:function(t){t.quality="HD"===t.quality?"SD":"HD"}}},Sn=3e5,An={namespaced:!0,state:{status:"idle",error:null,lastUpdated:0,username:"",pathAlias:"",owner:"",photos:[]},mutations:{userDataReceived:function(t,e){var n=e.photos,o=e.username,r=e.pathAlias,a=e.owner;t.photos=n,t.username=o,t.pathAlias=r,t.owner=a,t.lastUpdated=Date.now(),t.status="success",t.error=null},loading:function(t){t.status="loading"},errorReceived:function(t,e){t.status="error",t.photos=[],t.error=e,t.username="",t.pathAlias="",t.owner=""},reset:function(t){t.photos=[],t.username="",t.pathAlias="",t.owner="",t.lastUpdated=0,t.status="idle",t.error=null}},actions:{fetchData:function(t,e){var n=t.state,o=t.commit;return e===n.pathAlias&&Date.now()-n.lastUpdated<=Sn?null:(o("reset"),o("loading"),ae(e).then((function(t){o("userDataReceived",t)})).catch((function(t){o("errorReceived",t)})))}},getters:{isLoading:function(t){return"loading"===t.status},isError:function(t){return"error"===t.status}}},Cn=Object(K["a"])({state:{},mutations:{},actions:{},modules:{home:kn,user:An,photoSettings:Pn}});Object(o["c"])(N).use(Cn).use(wn).mount("#app")},"641c":function(t,e,n){"use strict";n("1536")},"65f6":function(t,e,n){},6860:function(t,e,n){"use strict";n("1bd5")},"6ad4":function(t,e,n){"use strict";n("4015")},"6c99":function(t,e,n){"use strict";n("736f")},"736f":function(t,e,n){},"7dd3":function(t,e,n){"use strict";n("2b80")},"9fa0":function(t,e,n){"use strict";n("5399")},a90f:function(t,e,n){"use strict";n("65f6")},aa72:function(t,e,n){},af1f:function(t,e,n){},b2a9:function(t,e,n){"use strict";n("af1f")},d5cc:function(t,e,n){"use strict";n("eec1")},dc83:function(t,e,n){},eec1:function(t,e,n){},f58b:function(t,e,n){"use strict";n("2ecc")},f8f3:function(t,e,n){"use strict";n("3c9a")}});
//# sourceMappingURL=app.a9ceb971.js.map